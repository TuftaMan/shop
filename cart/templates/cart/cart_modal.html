<div class="cart-modal bg-white shadow-lg p-4 w-80">
    <h2 class="font-bold text-lg mb-2">Корзина</h2>
    {% if cart_items %}
        <ul>
            {% for item in cart_items %}
                <li class="flex justify-between mb-1" id="cart-item-{{ item.id }}">
                    <span>{{ item.product.name }} x {{ item.quantity }}</span>
                    <div class="flex space-x-2">
                        <button 
                            hx-post="{% url 'cart:update_item' item.id %}" 
                            hx-include="closest form" 
                            hx-target="#main-cart-modal"
                            class="text-sm px-2 py-1 bg-gray-200 rounded">
                            Обновить
                        </button>
                        <button 
                            hx-post="{% url 'cart:remove_item' item.id %}" 
                            hx-target="#main-cart-modal" 
                            class="text-sm px-2 py-1 bg-red-200 rounded">
                            Удалить
                        </button>
                    </div>
                </li>
            {% endfor %}
        </ul>
        <p class="mt-2">Итого: {{ cart.subtotal }} ₽</p>
        <button 
            hx-post="{% url 'cart:clear_cart' %}" 
            hx-target="#main-cart-modal"
            class="mt-2 px-3 py-1 bg-red-500 text-white rounded">
            Очистить корзину
        </button>
    {% else %}
        <p>Корзина пуста</p>
    {% endif %}
</div>
